# A/B 테스트 샘플 사이즈 및 기간 설정 매뉴얼

## 📚 목차
1. [A/B 테스트 기본 개념](#1-ab-테스트-기본-개념)
2. [계산기 사용법](#2-계산기-사용법)
3. [통계적 배경 이해](#3-통계적-배경-이해)
4. [실무 가이드라인](#4-실무-가이드라인)
5. [실제 예시](#5-실제-예시)
6. [주의사항 및 모범 사례](#6-주의사항-및-모범-사례)

---

## 1. A/B 테스트 기본 개념

### 1.1 A/B 테스트란?
A/B 테스트는 두 개 이상의 버전을 비교하여 어떤 것이 더 나은 성과를 보이는지 통계적으로 검증하는 실험 방법입니다.

### 1.2 핵심 용어
- **컨트롤 그룹(A)**: 기존 버전
- **테스트 그룹(B)**: 새로운 버전
- **전환율**: 원하는 행동을 취한 사용자의 비율
- **통계적 유의성**: 결과가 우연이 아닌 실제 차이일 확률

---

## 2. 계산기 사용법

### 2.1 접속 방법
📍 **URL**: https://choiimingue.github.io/abtest-calculator/

### 2.2 단계별 입력 가이드

#### 단계 1: 변수 종류 선택
```
비율 지표 (클릭률, 전환율 등)    ← 대부분의 경우
연속형 지표 (평균 체류시간, 결제 금액 등)
```

**선택 기준:**
- 전환율, 클릭률, 가입률 → **비율 지표**
- 평균 주문금액, 평균 체류시간 → **연속형 지표**

#### 단계 2: 그룹 수 선택
```
A/B (2그룹)     ← 기본적인 비교
A/B/C (3그룹)   ← 여러 버전 동시 테스트
```

#### 단계 3: 베이스라인 지표 입력
현재 성과 지표를 입력합니다.

**예시:**
- 현재 전환율이 5% → `5` 입력
- 현재 평균 주문금액이 50,000원 → `50000` 입력

#### 단계 4: MDE (최소 검출 효과) 설정

**절대값 vs 상대값:**
- **절대**: 5% → 7% (2%포인트 증가)
- **상대**: 5% → 6% (20% 상대 증가)

#### 단계 5: 표준편차 (연속형 지표만)
과거 데이터에서 확인한 표준편차를 입력합니다.

#### 단계 6: 일일 유입 수 (선택사항)
실험 기간 계산을 위한 일일 방문자 수를 입력합니다.

---

## 3. 통계적 배경 이해

### 3.1 핵심 통계 개념

#### 검정력 (Power)
- **의미**: 실제 차이가 있을 때 이를 올바르게 감지할 확률
- **기본값**: 80%
- **해석**: 실제 효과가 있다면 80% 확률로 감지 가능

#### 유의수준 (Alpha)
- **의미**: 실제로는 차이가 없는데 차이가 있다고 잘못 판단할 확률
- **기본값**: 5%
- **해석**: 5% 확률로 잘못된 결론 도출 가능

#### 최소 검출 효과 (MDE)
- **의미**: 통계적으로 의미있게 감지하고 싶은 최소한의 효과 크기
- **중요성**: 작을수록 더 많은 샘플이 필요

### 3.2 샘플 사이즈 계산 공식

#### 비율 지표 (전환율)
```
n = 2 × (Zα + Zβ)² × p̄(1-p̄) / (p₂-p₁)²

여기서:
- n: 그룹당 필요 샘플 수
- Zα: 유의수준에 해당하는 Z값 (1.96 for 5%)
- Zβ: 검정력에 해당하는 Z값 (0.84 for 80%)
- p̄: (p₁+p₂)/2 (평균 비율)
- p₁: 컨트롤 그룹 비율
- p₂: 테스트 그룹 비율
```

#### 연속형 지표
```
n = 2 × (Zα + Zβ)² × σ² / δ²

여기서:
- σ: 표준편차
- δ: 평균 차이 (MDE)
```

---

## 4. 실무 가이드라인

### 4.1 MDE 설정 가이드

#### 비즈니스 의미가 있는 수준
| 지표 유형 | 권장 MDE | 근거 |
|-----------|----------|------|
| 전환율 | 10-20% 상대 증가 | 비즈니스 임팩트 체감 |
| 클릭률 | 15-25% 상대 증가 | 사용자 행동 변화 감지 |
| 주문금액 | 5-10% 상대 증가 | 매출 영향 의미 있음 |

#### 조직별 권장사항
- **스타트업**: 20-30% (빠른 검증 필요)
- **중견기업**: 10-20% (균형잡힌 접근)
- **대기업**: 5-15% (세밀한 최적화)

### 4.2 실험 기간 가이드

#### 최소 실험 기간
- **절대 최소**: 1주일 (요일 효과 제거)
- **권장 최소**: 2주일 (행동 패턴 안정화)
- **복잡한 변화**: 4주일 이상

#### 계절성 고려
- **이커머스**: 쇼핑 시즌 피하기
- **B2B**: 연말연시, 휴가철 피하기
- **교육**: 개학/방학 시즌 고려

### 4.3 일일 트래픽 추정

#### 전체 트래픽 vs 실험 대상
```
실험 대상 = 전체 트래픽 × 타겟팅 비율 × 실험 참여율

예시:
- 일일 전체 방문자: 10,000명
- 모바일 사용자만 대상: × 0.7 = 7,000명
- 실험 참여율 90%: × 0.9 = 6,300명
```

---

## 5. 실제 예시

### 5.1 전자상거래 버튼 색상 테스트

**상황**: 구매 버튼 색상 변경 (파랑 → 주황)

**설정:**
- 변수 종류: 비율 지표
- 그룹 수: A/B (2그룹)
- 베이스라인: 3.2% (현재 전환율)
- MDE: 15% 상대 증가 (3.2% → 3.68%)
- 일일 유입: 5,000명

**결과:**
- 그룹당 필요 샘플: 16,758명
- 전체 필요 샘플: 33,516명
- 예상 실험 기간: 7일

**해석:**
일주일 동안 실험하면 15% 전환율 향상을 95% 신뢰도로 감지할 수 있습니다.

### 5.2 뉴스 앱 체류시간 개선

**상황**: 추천 알고리즘 개선

**설정:**
- 변수 종류: 연속형 지표
- 그룹 수: A/B (2그룹)
- 베이스라인: 4.5분 (평균 체류시간)
- 표준편차: 2.1분 (과거 데이터)
- MDE: 10% 상대 증가 (0.45분 증가)
- 일일 유입: 20,000명

**결과:**
- 그룹당 필요 샘플: 861명
- 전체 필요 샘플: 1,722명
- 예상 실험 기간: 1일

**해석:**
하루 만에 충분한 데이터를 수집하여 체류시간 10% 증가를 감지할 수 있습니다.

### 5.3 SaaS 가입 페이지 최적화

**상황**: 가입 폼 단순화

**설정:**
- 변수 종류: 비율 지표  
- 그룹 수: A/B/C (3그룹)
- 베이스라인: 12% (현재 가입률)
- MDE: 20% 상대 증가 (12% → 14.4%)
- 일일 유입: 1,000명

**결과:**
- 그룹당 필요 샘플: 2,411명
- 전체 필요 샘플: 7,233명 (3그룹)
- 예상 실험 기간: 8일

**해석:**
8일간 실험하여 3가지 버전 중 가장 효과적인 것을 선택할 수 있습니다.

---

## 6. 주의사항 및 모범 사례

### 6.1 실험 설계 시 주의사항

#### ❌ 흔한 실수들
1. **너무 작은 MDE 설정**
   - 문제: 샘플 수 과도하게 증가
   - 해결: 비즈니스 의미 있는 수준으로 설정

2. **너무 짧은 실험 기간**
   - 문제: 신뢰성 부족, 외부 요인 영향
   - 해결: 최소 1-2주 이상 진행

3. **중간 결과로 조기 종료**
   - 문제: 통계적 오류 증가
   - 해결: 사전 계획된 기간 준수

#### ✅ 모범 사례들

1. **사전 검정력 분석**
   ```
   실험 전 → 샘플 사이즈 계산 → 실험 진행 → 결과 분석
   ```

2. **최소 효과 크기 명확화**
   - 비즈니스 팀과 협의
   - ROI 기반 임계값 설정
   - 실무진 체감 수준 고려

3. **다중 지표 모니터링**
   - 주 지표: 전환율
   - 보조 지표: 클릭률, 이탈률
   - 제약 지표: 수익성, 사용성

### 6.2 결과 해석 가이드

#### 통계적 유의성 vs 실무적 의미
```
결과 해석 매트릭스:

                통계적 유의    통계적 비유의
실무적 의미 있음    ✅ 도입      ⚠️ 추가 검증
실무적 의미 없음    ⚠️ 재검토    ❌ 도입 안함
```

#### 신뢰구간 활용
- P-value만 보지 말고 신뢰구간 확인
- 실무적 의미있는 범위 내에 있는지 판단
- 최악의 경우도 받아들일 수 있는지 검토

### 6.3 조직 차원의 가이드라인

#### 실험 문화 정착
1. **표준화된 프로세스**
   - 실험 계획서 템플릿
   - 승인 절차 명확화
   - 결과 공유 체계

2. **학습 중심 접근**
   - 실패도 중요한 학습
   - 결과 공유 및 토론
   - 베스트 프랙티스 문서화

3. **도구 및 인프라**
   - 실험 플랫폼 구축
   - 계산기 등 도구 활용
   - 데이터 접근성 확보

---

## 📊 부록: 빠른 참조 가이드

### A. 일반적인 MDE 설정값
| 지표 | 보수적 | 균형 | 적극적 |
|------|--------|------|--------|
| 전환율 | 5% | 10% | 20% |
| 클릭률 | 10% | 15% | 25% |
| 주문금액 | 3% | 7% | 15% |

### B. 최소 실험 기간
| 트래픽 수준 | 최소 기간 | 권장 기간 |
|------------|-----------|-----------|
| 높음 (일 1만+) | 1주 | 2주 |
| 중간 (일 1천-1만) | 2주 | 3주 |
| 낮음 (일 1천 미만) | 4주 | 6주 |

### C. 계산기 체크리스트
- [ ] 적절한 변수 종류 선택
- [ ] 현실적인 MDE 설정
- [ ] 정확한 베이스라인 데이터
- [ ] 충분한 실험 기간 확보
- [ ] 계절성/외부 요인 고려

---

**📞 문의사항이나 추가 도움이 필요하시면 데이터팀으로 연락주세요.**

*마지막 업데이트: 2024년 12월* 